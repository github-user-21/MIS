<div class="container mt-4">
    <h2 class="text-center text-primary mb-4">User Profile</h2>

    <div class="card shadow-lg rounded">
        <div class="card-body text-center">
            <i class="bi bi-person-circle text-primary" style="font-size: 3rem;"></i>
            <h4 class="mt-3">{{ user.username }}</h4>
            <p class="text-muted">{{ user.email }}</p>

            <div class="mt-3">
                <p><strong>User ID:</strong> {{ user.user_id }}</p>
                <p><strong>Role: </strong>
                    <span class="badge" [ngClass]="{
                        'bg-primary': user.role_type === 'admin',
                        'bg-success': user.role_type === 'instructor',
                        'bg-info': user.role_type === 'student'
                    }">
                        {{ user.role_type }}
                    </span>
                </p>
            </div>

            <button class="btn btn-warning mt-3 me-2" (click)="editProfile()">Update Profile</button>
            <button class="btn btn-danger mt-3" (click)="confirmDelete()">Delete Profile</button>

        </div>
    </div>
    <div *ngIf="isEditing" class="card mt-3 shadow-lg p-4">
        <h4 class="text-center text-primary">Edit Profile</h4>
        <form (ngSubmit)="updateProfile()">
            <div class="mb-3">
                <label class="form-label">Username:</label>
                <input type="text" class="form-control" [(ngModel)]="user.username" name="username" required>
            </div>
            <div class="mb-3">
                <label class="form-label">Email:</label>
                <input type="email" class="form-control" [(ngModel)]="user.email" name="email" required>
            </div>
            <button type="submit" class="btn btn-success">Save Changes</button>
            <button type="button" class="btn btn-secondary ms-2" (click)="cancelEdit()">Cancel</button>
        </form>
    </div>

    <p *ngIf="errorMessage" class="alert alert-danger text-center mt-3">{{ errorMessage }}</p>
</div>